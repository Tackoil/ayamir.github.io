# 适应性视频推流方案

## 适应性方案概述

适应性方案可以在处理不同目标对象时帮助改善推流体验。

目标主要包括视频质量、功耗、负载均衡等在移动无线网和有线网接入的情形。

适应性的视频比特率需要同时匹配网络条件和质量目标的需求。

## 适应性方案分类
### 服务端适应

大多数服务端适应的方案要求客户端发送系统或网络相关信息。

#### 质量导向的适应方案（Quality-Oriented Adaptive Scheme/QOAS）

向终端用户提供了高知觉质量的媒体内容。

1. QOAS是C-S架构，决策在服务器端产生。

2. QOAS基于客户知觉质量的反馈，提供对推流质量等级的调整。

#### 智能优先级适应方案（intelligent Prioritized Adaptive Scheme/iPAS）

专用于802.11网络。

1. iPAS服务器上的基于固有印象的带宽分配模块被用于组合QoS相关的参数和视频内容特征来进行内容的优先级分类和带宽份额分配。

2. 通过区分多媒体流，iPAS提供可用无线信道的优先级分配。

#### 设备导向的适应方案（Device-Oriented Adaptive multimedia Scheme/DOAS）

专用于LTE网络，建立在LTE下行链路调度机制之上。

1. DOAS专门根据设备特性实现适配，尤其为多屏终端用户提供了卓越的QoE。

### 客户端适应

#### 基于吞吐量的适应方案

这类方案基于估计的网络吞吐量从服务端选择视频的比特率。

1. HTTP客户端通过之前的观察记录来估计网络的吞吐量。
2. 通过测量端获取时间（segment fetch time/SFT）来代表发起和收到回复的瞬时HTTP GET请求之间的时间段，以此来确定一个推流会话中吞吐量的变化，进而独立地做出适应决策。
3. 在分布式网络中，同时考虑并发和顺序的SFT。通过比较实际的和理想的SFT来选择未来的segment的质量等级。

##### FESTIVE算法

适用于多个HAS客户端共享一个常见的拥塞带宽链路的情形。

以**效率、稳定性、公平性**为度量因素的适应性算法。

探索了一种为**分段调度、吞吐量估计和比特率选择**而生的健壮的机制。

包含一个随机调度器来调度下一个视频块的下载。

多个客户端共享容量为$W$的满带宽链路，每个客户端$x$在$t$时刻播放的视频比特率为$b_x,_t$ ，需要避免以下3种问题：

+ *Inefficiency*：多个HAS客户端必须能选择最可能的表示来提高QoE。

  $$ Inefficiency = \frac{|\sum_{x}b_x,_t - W|}{W} $$

  低*Inefficiency*值表明多个客户端对带宽实现了最有效的利用。

+ *Unfairness*：可用带宽应该被均等地分配。

  $$ Unfairness = \sqrt{1-JainFair} $$

  低*Unfairness*值表明多个客户端有相近的比特率。

+ *Instability*：不必要的比特率切换会损害推流体验

  $$Instability = \frac{\sum_{d=0}^{k-1}|b_{x,t-d} - b_{x,t-d-1}|*w(d)}{\sum_{d=1}^{k}b_{x,t-d} * w(d)}$$

##### Probe AND Adapt(PANDA)算法

用于检测网络状况，考虑未来比特率选择的平均目标数据比特率。

目标是当多个HAS客户端共享一个拥塞带宽信道时，通过正确探测网络，进而最小化**比特率震荡**。

PANDA算法在性能上击败了FESTIVE算法，并且PANDA算法在这些解决方案中表现出了最好的适应性，在不同带宽情况和播放器设置下实现了最优的**效率、公平性和稳定性**。

整体上的推流质量不只依赖于本地的吞吐量测量，还依赖服务端的网络容量。

1. 利用服务器发起的推送机制来降低DASH内容推流到移动客户端的端到端延迟。
2. 利用$$HTTP/2$$的流终止特性来实现中间质量调整。
3. 基于估计的用户QoE，功耗和可用资源来改善用户端的推流体验。

虽然有证据表明性能得到了提高，但是评估工作只是在受控的LAN环境下有效。

##### Cross Session Stateful Predictor(CS2P)方案

一种数据驱动的吞吐量估计方案，以克服不准确的 HAS 流量预测问题。

将共享相似特性的推流会话分簇，然后对每个簇使用隐马尔科夫模型预测相应的吞吐量样本。

在一个大规模数据集上实验性的评估表明：CS2P高效地估计了可用的网络吞吐量，进而改善了整体上的视频比特率的适应性。

CFA和Pytheas等方案和CS2P类似，也使用数据驱动的控制器来估计可用的吞吐量。

但是这些工作**不支持异构系统**并且**需要额外的训练复杂性**，使其不够具有吸引力。

基于吞吐量的适应性方案主要的挑战在于对吞吐量的精确估计。

为360度视频采用一个没有经过精巧设计的吞吐量估计机制可能会导致不稳定性和较差的QoE，在高度动态化的无线和蜂窝网络中尤甚。
